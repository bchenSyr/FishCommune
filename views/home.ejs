<% include partials/header %>

<!-- Jumbotron -->
<header class="jumbotron">
  <div class="container">
    <div class="row row-header">
      <div class="col-12 col-md-8">
        <h1 class="display-4 text-center">Welcome To Fishbook!</h1>
        <p class="d-none d-md-block text-center">
          Share your experience with fishing enthusiasts around the world.
        </p>
      </div>
      <% if(currentUser) { %>
      <div class="col-12 offset-1 col-md-3 align-self-center">
        <button
          type="button"
          class="btn-lg btn-secondary"
          data-toggle="modal"
          data-target="#writePost"
        >
          Write A Post
        </button>
      </div>
      <% } %>
    </div>
  </div>
</header>

<div class="container">
  <!-- Posts -->
  <div class="row text-center" style="display:flex; flex-wrap: wrap;">
    <% campgrounds.forEach(function(campground){ %>
    <div class="col-md-4">
      <div class="card shadow-sm mb-3">
        <!-- Avartar -->
        <div class="card-header">
          <img
            src="https://placekitten.com/100/100"
            style="height:30px; width:30px;"
          />
          <%= campground.name %>
        </div>

        <!-- Image -->
        <img
          class="card-img-bottom"
          src="<%= campground.image %>"
          data-holder-rendered="true"
          style="height: 100%; width: 100%;"
        />

        <!-- Description -->
        <p class="card-caption mt-3"><%= campground.description %></p>

        <a href="/campgrounds/<%= campground._id %>"> View More...</a>

        <!-- Footer -->
        <div class="card-footer">
          <div class="d-flex justify-content-between align-items-center mx-1">
            <button
              type="button"
              class="btn btn-primary"
              data-toggle="modal"
              data-target="#modal"
            >
              <i class="fa fa-comment"></i>
            </button>
            <i class="far fa-thumbs-up"></i>
            <i class="fas fa-share-alt-square"></i>
          </div>
        </div>

        <% campground.comments.forEach(function(comment){ %>
        <ul class="list-group list-group-flush">
          <li class="list-group-item"><%= comment.text %></li>
        </ul>
        <% }) %>
      </div>
    </div>

    <!-- Comment -->
    <div
      class="modal fade"
      id="modal"
      tabindex="-1"
      role="dialog"
      aria-labelledby="exampleModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header"><!-- Avartar --></div>
          <div class="modal-body">
            <form>
              <div class="form-group row align-items-center">
                <div class="col-md-12">
                  <textarea
                    class="form-control"
                    id="feedback"
                    name="feedback"
                    rows="4"
                    placeholder="Make a comment to <%=campground.name%>"
                  ></textarea>
                </div>
              </div>
              <div class="form-group d-flex">
                <div class="d-flex offset-8">
                  <button
                    type="button"
                    class="btn btn-secondary btn-sm mr-2"
                    data-dismiss="modal"
                  >
                    Cancel
                  </button>
                  <button type="submit" class="btn btn-primary btn-sm">
                    Submit
                  </button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <% }); %>

    <!-- Row - writePost -->
    <div id="writePost" class="modal fade" role="dialog">
      <div class="modal-dialog modal-lg" role="content">
        <div class="modal-content">
          <!-- <div class="modal-header"> -->
          <!-- </div> -->
          <div class="modal-body">
            <form>
              <div class="form-group row align-items-center">
                <div class="col-md-12">
                  <textarea
                    class="form-control"
                    id="feedback"
                    name="feedback"
                    rows="4"
                    placeholder="What's happenning?"
                  ></textarea>
                </div>
              </div>
              <div class="form-group d-flex">
                <div class="d-flex justify-content-between col-md-2 mt-2">
                  <i class="fa fa-lg fa-images"></i>
                  <i class="fa fa-lg fa-video"></i>
                </div>
                <div class="offset-md-7 col-md-3">
                  <button
                    type="button"
                    class="btn btn-secondary btn-sm"
                    data-dismiss="modal"
                  >
                    Cancel
                  </button>
                  <button type="submit" class="btn btn-primary btn-sm">
                    Submit
                  </button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<% include partials/footer %>
